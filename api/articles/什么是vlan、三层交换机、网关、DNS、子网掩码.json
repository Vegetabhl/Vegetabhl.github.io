{"title":"什么是vlan、三层交换机、网关、DNS、子网掩码","uid":"17b5d6214e0613f1c9b9851fb72327c9","slug":"什么是vlan、三层交换机、网关、DNS、子网掩码","date":"2021-12-13T13:48:41.462Z","updated":"2024-05-29T15:24:12.582Z","comments":true,"path":"api/articles/什么是vlan、三层交换机、网关、DNS、子网掩码.json","keywords":null,"cover":"https://vegetabhlimg.netlify.app/img/1de1e5acabf244f6a8fee7d214985926_2.png","content":"<h1 id=\"什么是vlan、三层交换机、网关、DNS、子网掩码\"><a href=\"#什么是vlan、三层交换机、网关、DNS、子网掩码\" class=\"headerlink\" title=\"什么是vlan、三层交换机、网关、DNS、子网掩码\"></a>什么是vlan、三层交换机、网关、DNS、子网掩码</h1><h2 id=\"一、什么是VLAN\"><a href=\"#一、什么是VLAN\" class=\"headerlink\" title=\"一、什么是VLAN\"></a>一、什么是VLAN</h2><p>VLAN中文是“虚拟局域网”。LAN可以是由少数几台家用计算机构成的网络，也可以是数以百计的计算机构成的企业网络。VLAN所指的LAN特指使用路由器分割的网络——也就是广播域。</p>\n<p>听上面的概念，肯定有不少朋友是一头雾水的，什么是虚拟局域网？好好的，为什么要划分vlan？</p>\n<p><strong>这里举个例：通俗的了解</strong></p>\n<p>一所高中，新学期高一招了800个学生，这800个学生，如果放在一个班里，那肯定是管理不过来，面对800个人，老师看了也头疼，这边在授课，那边完全听不到，老师布置什么任务，也会有一些传达不到，老师要是想找某个学生的信息，要从800份信息中去找，极其麻烦，浪费时间；</p>\n<p>而实际中，也是一样，电脑A要想要与电脑B通信，于是电脑A就需要发送arp请求，而网络中电脑众多，最终ARP请求会被转发到同一网络中的所有电脑，才能找到电脑B，如此一来，为了找到电脑B，消耗了网络整体的带宽，收到广播信息的计算机还要消耗一部分CPU时间来对它进行处理。造成了网络带宽和CPU运算能力的大量无谓消耗。</p>\n<p><strong>那么怎么办呢？</strong></p>\n<p>学校就针对这800个学生，分成了10个班，每个班80人，分别命名为高一（1）班，高一（2）班、、、、高一（10）班，每个人都会获得一个班级编号。</p>\n<p>1101表示一班01号学生。</p>\n<p>1102表示一班02号学生。</p>\n<p>1201表示2班01号学生。</p>\n<p>同一个班的学生编号尾数不同，其它的都相同。</p>\n<p>那么这样老师再管理起来就轻松多了，可以把一班这80人管理的妥妥的，隔壁2班与3班乱成一锅粥也不管一班的事，我就要这一班80人好好上课就行。</p>\n<p>这就是vlan，每个班就相当于一个vlan，而每个班名称，就相当于vlan的名称，而每个学生的编号就是ip地址；同班同学（同一个vlan的ip），因为同一个教室，朝夕相处，且可以相互通信，不同班的同学，若不做其它工作，很难往来通信。</p>\n<p>所以同一个vlan间，可以相互通信；不同vlan，若不做配置，不能相互通信。</p>\n<p>那么不同vlan如何通通信呢？就需要单臂路由与三层交换机。</p>\n<h2 id=\"二、单臂路由与三层交换机\"><a href=\"#二、单臂路由与三层交换机\" class=\"headerlink\" title=\"二、单臂路由与三层交换机\"></a>二、单臂路由与三层交换机</h2><p>我们知道要实现不同vlan间通信，就必须需要有路由功能，不同VLAN之间相互通信的两种方式（单臂路由、三层交换机）。</p>\n<p><strong>什么是单臂路由？</strong></p>\n<p>单臂路由的实现方式，其实就是普通二层交换机加路由器，从而实现不同vlan间的可以互相通信。</p>\n<p><img src=\"https://vegetabhlimg.netlify.app/img/vlan_01.png\"></p>\n<p><strong>那什么是三层交换机呢？</strong></p>\n<p>对于小型的网络，单臂路由可以应付，但随着VLAN之间流量的不断增加，很可能导致路由器成为整个网络的瓶颈，出现掉包、或者通信堵塞。</p>\n<p>为了解决上述问题，三层交换机应运而生。三层交换机，本质上就是“带有路由功能的（二层）交换机”。路由属于OSI参照模型中第三层网络层的功能，因此带有第三层路由功能的交换机才被称为“三层交换机”。</p>\n<p>关于三层交换机的内部结构，可以参照下面的简图。</p>\n<p><img src=\"https://vegetabhlimg.netlify.app/img/vlan_02.png\"></p>\n<p>在一台本体内，分别设置了交换机模块和路由器模块；而内置的路由模块与交换模块相同，使用ASIC硬件处理路由。因此，与传统的路由器相比，可以实现高速路由。并且，路由与交换模块是汇聚链接的，由于是内部连接，可以确保相当大的带宽，所以对于正规的项目，需要使用三层交换机来实现网网络间的通信。 </p>\n<h2 id=\"三、什么是网关\"><a href=\"#三、什么是网关\" class=\"headerlink\" title=\"三、什么是网关\"></a>三、什么是网关</h2><p>在了解了vlan与三层交换机后，能不能通信，还需要看网关是否正确。</p>\n<p><strong>一、什么是网关</strong></p>\n<p>网关(Gateway)又称网间连接器、协议转换器。网关在传输层上以实现网络互连，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。</p>\n<p><strong>二、如何来理解网关</strong></p>\n<p>大家都知道，从一个房间走到另一个房间，必然要经过一扇门。同样，从一个网络向另一个网络发送信息，也必须经过一道“关口”，这道关口就是网关。顾名思义，网关(Gateway)就是一个网络连接到另一个网络的“关口”。</p>\n<p>按照不同的分类标准，网关也有很多种。TCP&#x2F;IP协议里的网关是最常用的，在这里我们所讲的“网关”均指TCP&#x2F;IP协议下的网关。</p>\n<p><strong>三、网关的ip地址</strong></p>\n<p><strong>那么网关到底是什么呢？</strong></p>\n<p>网关实质上是一个网络通向其他网络的IP地址，网关在网段内的可用ip中选一个，不过，一般用的是<strong>第1个和最后一个。</strong></p>\n<p><strong>例如</strong></p>\n<p>比如有网络A和网络B，</p>\n<p><strong>网络A</strong>：的IP地址范围为“192.168.1.1~192. 168.1.254”，子网掩255.255.255.0；</p>\n<p>如果需要与其它网段通信，那么它的网关可以设置为192.168.1.1，当然也可以设置为<strong>网段内</strong>其它的一个ip地址。</p>\n<p><strong>网络B</strong>：的IP地址范为“192.168.2.1~192.168.2.254”，子网掩码255.255.255.0。</p>\n<p>如果需要与其它网段通信，那么它的网关可以设置为192.168.2.1，当然也可以设置为网段内其它的一个ip地址。</p>\n<p><img src=\"https://vegetabhlimg.netlify.app/img/vlan_03.png\"></p>\n<p><strong>四、网关是如何实现通信？</strong></p>\n<p>在没有<strong>路由器</strong>的情况下，不同的两个网络之间是<strong>不能</strong>进行TCP&#x2F;IP通信的，即使是两个网络连接在同一台交换机(或集线器)上，TCP&#x2F;IP协议也会根据子网掩码(255.255.255.0)判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，<strong>则必须通过网关。</strong></p>\n<p>如果<strong>网络A</strong>中的主机发现<strong>数据包</strong>的目的主机<strong>不在</strong>本地网络中，就把数据包转发给<strong>它自己的网关</strong>，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机(如附图所示)。网络B向网络A转发数据包的过程。</p>\n<p>所以说，只有设置好网关的<strong>IP地址</strong>，TCP&#x2F;IP协议才能实现不同网络之间的相互通信。</p>\n<p><strong>五、什么是默认网关？</strong></p>\n<p>　　如果搞清了什么是网关，默认网关也就好理解了。就好像一个房间可以有多扇门一样，一台主机可以有多个网关。默认网关的意思是一台主机如果找不到可用的网关，就把数据包发给<strong>默认指定的网关</strong>，由这个网关来处理数据包。现在主机使用的网关，一般指的是默认网关。  </p>\n<h2 id=\"四、什么是DNS\"><a href=\"#四、什么是DNS\" class=\"headerlink\" title=\"四、什么是DNS\"></a>四、什么是DNS</h2><p>DNS是域名解析服务器（Domain Name System），是把网址变成IP地址的服务器。</p>\n<p>DNS说白了是把域名翻译成IP地址用的，<strong>这里面举个例子</strong>，大家就很容易清楚了。</p>\n<p>例如我们在浏览器里面输入<a href=\"http://www.baidu.com的时候,机器要跟百度这个网站进行通信,机器要往外面发送数据包,数据包里面要写百度这台服务器的ip地址,我们不知道ip地址是多少,那么就需要主机问dns服务器,dns服务器就自动帮我们把www.baidu.com这个域名翻译成了ip地址61.135.169.105.然后写到了数据包的目的ip地址里面就可以进行通信./\">www.baidu.com的时候，机器要跟百度这个网站进行通信，机器要往外面发送数据包，数据包里面要写百度这台服务器的IP地址，我们不知道IP地址是多少，那么就需要主机问DNS服务器，DNS服务器就自动帮我们把www.baidu.com这个域名翻译成了IP地址61.135.169.105。然后写到了数据包的目的IP地址里面就可以进行通信。</a></p>\n<p>就跟我们写信一样，你得写个收信人的地址邮局才能给你发送吧，你给国外写信，你写中文地址邮局不认识，需要这个一个人帮你翻译成英语。这就是DNS的作用，所以你的在本地连接里面写DNS才可以正常浏览网页，如果不设置DNS，是无法正常访问网页的。</p>\n<h2 id=\"五、MAC地址\"><a href=\"#五、MAC地址\" class=\"headerlink\" title=\"五、MAC地址\"></a>五、MAC地址</h2><p>讲到MAC地址，就不得不提ip地址，这里顺便把ip地址也说下。</p>\n<p><strong>IP与MAC</strong></p>\n<p>虽然现在已经ipv6了，但我们基本用的大多数还是ipv4协议，所谓ip就是你电脑整个网络的编号。其他电脑想访问电脑就得需要这个编号。但是这个编号很多情况下是一直在变化的。唯一不变的是你的MAC地址：物理地址。</p>\n<p>MAC是网络中用来标识网卡设备的唯一网络地址。由相关硬件制造商统一分配，每台电脑的MAC地址都是<strong>唯一的</strong>。</p>\n<p>做个比喻，你经常搬家，你没搬一次家都有一个地址，XX小区XX单元XX号，这个就是IP。但是你的名字不变，这个就是MAC，不同的是我们的MAC不允许重名。 </p>\n<p><img src=\"https://vegetabhlimg.netlify.app/img/vlan_04.png\"></p>\n<p>我们的IP分为两个部分：如上图分为网络部分和主机部分。网络部分好比就是你在XX省XX市XX镇，这个是国家固定下来了的。但是XX小区XX单元XX号是开发商自己定的。两个编号加起来就是你的ip了。不同的是在现实中两个编号的长度是固定的，在网络上A、B、C、D的ip地址却是变化的，这个在前天有详细讲到。</p>\n<h2 id=\"六、子网掩码\"><a href=\"#六、子网掩码\" class=\"headerlink\" title=\"六、子网掩码\"></a>六、子网掩码</h2><p>子网掩码是为了区分网络位和主机位，上面我们说到过，一个ip地址是由网络部分和主机部分。正如一个人的名字由姓与名组成。</p>\n<p>那么我们可以把IP地址比作一个人的名字，那么子网掩码就像是一份名单，可以快速的知道那些人同姓，那些人不同姓，把同姓的人分在一组，让他们之前可以互相交流。</p>\n<p><strong>举个例子</strong></p>\n<p><strong>有一个网段</strong>是192.168.1.0-192.1.254，这个网段就像一个村子一样，就称它为<strong>安防村</strong>，此这网段有个ip地址是192.168.1.1，我们就叫他安防一，另外一个人叫安防二，它的ip地址为192.168.1.2，我们一看他们，就知道他们是同村的。</p>\n<p><strong>另外有一个网段</strong>，是192.168.0.0——192.168.255.254，我们叫它<strong>安村</strong>，村里有个同样有两个ip地址为92.168.1.1与192.168.1.2，也叫安防一，安防二，那么问题来了？这个时候，如何区分他们是属于那个村的？</p>\n<p>这个时候就需要<strong>子网掩码</strong>了来判断他们是属于那个网段的，需要把安防一、安防二带到村里去认下，就知道他们是属于那个村了，<strong>安防村</strong>的网段是255.255.255.0，<strong>安村</strong>的网段是255.255.0.0。</p>\n<p>网络中也会出现类似于“同名”“同姓”的ip地址，如何区分他们到底是属于那个网段，就需要依靠子网掩码了。</p>\n","text":"什么是vlan、三层交换机、网关、DNS、子网掩码一、什么是VLANVLAN中文是“虚拟局域网”。LAN可以是由少数几台家用计算机构成的网络，也可以是数以百计的...","permalink":"/post/什么是vlan、三层交换机、网关、DNS、子网掩码","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AFvlan%E3%80%81%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E3%80%81%E7%BD%91%E5%85%B3%E3%80%81DNS%E3%80%81%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81\"><span class=\"toc-text\">什么是vlan、三层交换机、网关、DNS、子网掩码</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFVLAN\"><span class=\"toc-text\">一、什么是VLAN</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E5%8D%95%E8%87%82%E8%B7%AF%E7%94%B1%E4%B8%8E%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA\"><span class=\"toc-text\">二、单臂路由与三层交换机</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E7%BD%91%E5%85%B3\"><span class=\"toc-text\">三、什么是网关</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFDNS\"><span class=\"toc-text\">四、什么是DNS</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%94%E3%80%81MAC%E5%9C%B0%E5%9D%80\"><span class=\"toc-text\">五、MAC地址</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%AD%E3%80%81%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81\"><span class=\"toc-text\">六、子网掩码</span></a></li></ol></li></ol>","author":{"name":"Vegetabhl","slug":"blog-author","avatar":"https://raw.githubusercontent.com/Vegetabhl/Images/master/img/avatar_1.jpg","link":"/","description":"--欢迎来到小卜同学的小破站--     Welcome to Xiaobu’s little website","socials":{"github":"https://github.com/Vegetabhl","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/398361872"},"wechat":{"icon":"/svg/wx.svg","link":"https://raw.githubusercontent.com/Vegetabhl/Images/master/img/wx.jpg"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"environment","uid":"cdb05b27ae17178365a48c6021a17029","slug":"environment","date":"2021-12-14T06:11:49.500Z","updated":"2024-12-23T14:39:10.362Z","comments":true,"path":"api/articles/environment.json","keywords":null,"cover":"https://vegetabhlimg.netlify.app/img/2f70d0482b4946678682e5c02c9abd32_1.png","text":"[TOC] 一、MySQL 8.0 zip压缩包版本（免安装）的下载、配置安装1 下载MySQL 8.0 for Windows zip 压缩包版本 下载地址：...","permalink":"/post/environment","photos":[],"count_time":{"symbolsCount":"7k","symbolsTime":"6 mins."},"categories":[],"tags":[],"author":{"name":"Vegetabhl","slug":"blog-author","avatar":"https://raw.githubusercontent.com/Vegetabhl/Images/master/img/avatar_1.jpg","link":"/","description":"--欢迎来到小卜同学的小破站--     Welcome to Xiaobu’s little website","socials":{"github":"https://github.com/Vegetabhl","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/398361872"},"wechat":{"icon":"/svg/wx.svg","link":"https://raw.githubusercontent.com/Vegetabhl/Images/master/img/wx.jpg"}}}},"feature":null},"next_post":{"title":"hexo迁移","uid":"80bfd9d8e471d51824c7169f84655c0e","slug":"hexo 迁移","date":"2021-12-08T08:51:52.982Z","updated":"2024-05-29T15:17:19.735Z","comments":true,"path":"api/articles/hexo 迁移.json","keywords":null,"cover":[],"text":"hexo 迁移1 备份你旧电脑的文件删除node_modules文件夹，然后把剩余的文件全部备份。 2 新电脑准备安装好GIt，Node.js。 Node.js...","permalink":"/post/hexo 迁移","photos":[],"count_time":{"symbolsCount":469,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Vegetabhl","slug":"blog-author","avatar":"https://raw.githubusercontent.com/Vegetabhl/Images/master/img/avatar_1.jpg","link":"/","description":"--欢迎来到小卜同学的小破站--     Welcome to Xiaobu’s little website","socials":{"github":"https://github.com/Vegetabhl","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/398361872"},"wechat":{"icon":"/svg/wx.svg","link":"https://raw.githubusercontent.com/Vegetabhl/Images/master/img/wx.jpg"}}}}}}